# Q0002: 이 프로젝트의 git branch 전략을 수립해줘

**날짜**: 2026-02-27
**원본**: [PROPMTS.md](../PROPMTS.md#q0002)

## 질문

1. main > dev
2. dev > feat, fix 이런 식으로 하면 될지

## 답변

### Git Branch 전략: GitHub Flow 기반 단순화 전략

CalcMate는 1인 또는 소규모 개발 프로젝트이므로 **GitHub Flow**를 기반으로, Phase 단위 개발에 맞게 커스터마이징한 전략을 추천한다.

---

### 브랜치 구조

```
main
 └── dev
      ├── feat/foundation
      ├── feat/basic-calculator
      ├── feat/exchange-rate
      ├── fix/calculator-division-by-zero
      └── chore/update-dependencies
```

---

### 브랜치 역할

| 브랜치 | 역할 | 병합 대상 |
|--------|------|-----------|
| `main` | 안정적인 릴리즈 상태만 유지. 직접 커밋 금지 | — |
| `dev` | 개발 통합 브랜치. 각 Phase 완료 후 머지 | `main` |
| `feat/*` | 기능 개발 (Phase 단위 또는 세부 기능) | `dev` |
| `fix/*` | 버그 수정 | `dev` (긴급 시 `main`도 가능) |
| `chore/*` | 의존성, 설정, 문서 등 코드 외 작업 | `dev` |

---

### 네이밍 컨벤션

```bash
# 계산기 기능 단위
feat/foundation
feat/basic-calculator
feat/exchange-rate
feat/unit-converter
feat/vat-calculator
feat/age-calculator

# 세부 기능 (하나의 계산기 안에서 분리 필요 시)
feat/basic-calculator-evaluate-usecase
feat/basic-calculator-ui

# 버그 수정
fix/basic-calculator-negative-number

# 기타
chore/setup-lint-rules
docs/update-roadmap
```

---

### 워크플로우

```bash
# 1. dev에서 feat 브랜치 분기
git checkout dev
git pull origin dev
git checkout -b feat/basic-calculator

# 2. 작업 (TDD → 구현 → 커밋)
git add lib/domain/...
git commit -m "feat: add EvaluateExpressionUseCase"

# 3. dev에 PR/머지
git checkout dev
git merge feat/basic-calculator
git branch -d feat/basic-calculator

# 4. Phase 완료 후 dev → main 머지 (릴리즈)
git checkout main
git merge dev --no-ff
git tag v0.1.0
```

---

### `--no-ff` 머지 권장 이유

`dev → main` 병합 시 `--no-ff`(non-fast-forward)를 사용하면 머지 커밋이 생성되어 어느 시점에 어떤 Phase가 릴리즈됐는지 히스토리에서 명확하게 확인할 수 있다.

---

### 태그 전략 (릴리즈 버저닝)

```
v0.1.0  — Phase 1 완료 (기본 계산기)
v0.2.0  — Phase 2 완료 (환율)
...
v1.0.0  — Phase 14 완료 (출시)
```
