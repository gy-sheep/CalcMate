# Q0013: Freezed와 @freezed 어노테이션

**날짜**: 2026-02-27
**원본**: [PROPMTS.md](../PROPMTS.md#q0013)

## 질문

Freezed와 `@freezed` 어노테이션의 개념, 사용 이유, 코틀린과의 비교

## 답변

### @freezed란?

Freezed 패키지에서 제공하는 **어노테이션(annotation)**이에요.

클래스 위에 `@freezed`를 붙이면 build_runner가 그 클래스를 감지해서 `.freezed.dart` 파일을 자동 생성해줍니다.

쉽게 말하면 **"이 클래스는 Freezed가 처리해줘"** 라는 표시예요.

---

### 코틀린 data class와 동일한 역할

안드로이드 개발자라면 코틀린의 `data class`와 똑같은 개념이에요.

```kotlin
// 코틀린
data class MainScreenState(
    val entries: List<CalcModeEntry> = emptyList(),
    val isScrolled: Boolean = false
)
```

코틀린 `data class`는 언어 차원에서 `copy()`, `equals()`, `hashCode()`, `toString()`을 자동으로 만들어줍니다.

Dart는 언어 차원에서 그게 없어서, Freezed 패키지 + build_runner로 코드 생성을 통해 똑같은 걸 구현한 거예요.

```dart
// Dart + Freezed (코틀린 data class와 동일한 역할)
@freezed
class MainScreenState with _$MainScreenState {
  const factory MainScreenState({
    @Default([]) List<CalcModeEntry> entries,
    @Default(false) bool isScrolled,
  }) = _MainScreenState;
}
```

---

### @freezed 없이 직접 작성 vs @freezed 사용 비교

**@freezed 없이 직접 작성할 경우**

```dart
class MainScreenState {
  final List<CalcModeEntry> entries;
  final bool isScrolled;

  const MainScreenState({
    this.entries = const [],
    this.isScrolled = false,
  });

  // 직접 다 써야 함
  MainScreenState copyWith({
    List<CalcModeEntry>? entries,
    bool? isScrolled,
  }) {
    return MainScreenState(
      entries: entries ?? this.entries,
      isScrolled: isScrolled ?? this.isScrolled,
    );
  }

  @override
  bool operator ==(Object other) =>
      other is MainScreenState &&
      other.entries == entries &&
      other.isScrolled == isScrolled;

  @override
  int get hashCode => Object.hash(entries, isScrolled);

  @override
  String toString() =>
      'MainScreenState(entries: $entries, isScrolled: $isScrolled)';
}
```

**@freezed 사용 시**

```dart
@freezed
class MainScreenState with _$MainScreenState {
  const factory MainScreenState({
    @Default([]) List<CalcModeEntry> entries,
    @Default(false) bool isScrolled,
  }) = _MainScreenState;
}
```

위에서 직접 작성한 코드 전체가 `.freezed.dart`로 자동 생성됩니다. 필드가 늘어나도 선언만 하면 되니까 실수도 없고 코드량도 확 줄어들어요.

---

### 정리

| | 코틀린 | Dart + Freezed |
|---|---|---|
| 불변 모델 선언 | `data class` | `@freezed class` |
| 복사 메서드 | `copy()` | `copyWith()` |
| 자동 생성 방식 | 컴파일러 | build_runner |
| 생성 시점 | 컴파일 시 자동 | `build_runner` 실행 시 |

코틀린은 컴파일러가 해주는 걸, Dart는 build_runner가 코드를 미리 생성해서 해결하는 차이예요.
