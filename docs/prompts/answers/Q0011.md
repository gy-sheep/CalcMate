# Q0011: Android Simulator에서 Statusbar 영역의 아이콘 색상이 안보여

**날짜**: 2026-02-27
**원본**: [PROPMTS.md](../PROPMTS.md#q0011)

## 질문

Statusbar의 영역의 아이콘들이 흰색이고 main_screen 화면에서 스크롤 하기 전에는 배경색도 흰색이라 안보이는데 어떻게 해결하지

---

## 답변

### 문제 원인

`extendBodyBehindAppBar: true`로 설정되어 있어 AppBar가 StatusBar 뒤로 확장되면서 배경이 투명해진다.
이때 Android는 StatusBar 아이콘 색상을 자동으로 결정하지 못해 기본값인 **흰색**을 유지한다.
배경도 밝은 색이라 흰 아이콘이 보이지 않는 것이다.

### 일반적인 해결 방식

토스, 은행 앱 등 대부분의 앱이 `SystemChrome` 또는 `SystemUiOverlayStyle`을 통해
앱 실행 시점 또는 화면 진입 시점에 StatusBar 아이콘 색상을 명시적으로 지정한다.

### 이 프로젝트의 올바른 해결 방법

이 앱은 **다크/라이트 모드를 모두 지원**하기 때문에 고정값을 사용할 수 없다.
테마에 따라 동적으로 반응해야 한다.

#### 방법: `app_theme.dart`의 `AppBarTheme`에 등록

`AppBarTheme`에 `systemOverlayStyle`을 추가하면 앱 전체 AppBar에 일괄 적용되어
화면마다 개별 설정할 필요가 없다.

```dart
// app_theme.dart
import 'package:flutter/services.dart';

class AppTheme {
  static ThemeData get lightTheme {
    return ThemeData(
      useMaterial3: true,
      colorScheme: ColorScheme.fromSeed(
        seedColor: Colors.deepPurple,
        brightness: Brightness.light,
      ),
      appBarTheme: const AppBarTheme(
        centerTitle: true,
        systemOverlayStyle: SystemUiOverlayStyle.dark, // 라이트모드: 배경 밝음 → 아이콘 어둡게
      ),
    );
  }

  static ThemeData get darkTheme {
    return ThemeData(
      useMaterial3: true,
      colorScheme: ColorScheme.fromSeed(
        seedColor: Colors.deepPurple,
        brightness: Brightness.dark,
      ),
      appBarTheme: const AppBarTheme(
        centerTitle: true,
        systemOverlayStyle: SystemUiOverlayStyle.light, // 다크모드: 배경 어두움 → 아이콘 밝게
      ),
    );
  }
}
```

#### SystemUiOverlayStyle 값 의미

| 값 | 아이콘 색상 | 사용 상황 |
|---|---|---|
| `SystemUiOverlayStyle.dark` | 어두운 색 (검정) | 라이트모드 — 배경이 밝을 때 |
| `SystemUiOverlayStyle.light` | 밝은 색 (흰색) | 다크모드 — 배경이 어두울 때 |

> **참고**: 배경이 특이하게 어두운 화면(예: 송금 완료 등 짙은 컬러 화면)이 생기면
> 해당 화면에서만 `AnnotatedRegion<SystemUiOverlayStyle>`로 개별 오버라이드하면 된다.
