rules_version='2'

service cloud.firestore {
  match /databases/{database}/documents {
    // exchange_rates 컬렉션: 앱에서 읽기만 허용, 쓰기는 Function만 허용
    match /exchange_rates/{document} {
      allow read: if true;
      allow write: if false;  // Function은 Admin SDK로 우회하므로 이 규칙에 영향받지 않음
    }

    // 그 외 모든 컬렉션: 기본 차단
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
